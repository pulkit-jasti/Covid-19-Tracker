(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{17:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(10),n=a.n(r),i=(a(17),a(2)),o=a(3),l=a(5),d=a(4),h=a(7),j=a.n(h),u=a(11),p=a.n(u),b=a(0),v=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={data:{confirmed:0,recovered:0,deaths:0,lastUpdate:""}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://covid19-api.com/totals",{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({data:{confirmed:t[0].confirmed,recovered:t[0].recovered,deaths:t[0].deaths,lastUpdate:t[0].lastUpdate}})})).catch(console.log)}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"top-banner",children:[Object(b.jsx)("img",{src:"https://c.files.bbci.co.uk/D505/production/_115033545_gettyimages-1226314512.jpg",alt:""}),Object(b.jsxs)("div",{className:"overlay",children:[Object(b.jsxs)("div",{className:"heading-wrapper",children:[Object(b.jsx)("h1",{children:"Covid-19 Tracker"}),Object(b.jsxs)("h2",{children:["Built by"," ",Object(b.jsx)("a",{href:"https://linktr.ee/pulkit_jasti",target:"_blank",children:"Pulkit Jasti"})," ","| Source:"," ",Object(b.jsx)("a",{href:"https://github.com/pulkit-jasti/Covid-19-Tracker",target:"_blank",children:"GitHub"})]})]}),Object(b.jsxs)("div",{className:"stats",children:[Object(b.jsxs)("div",{className:"stat-wrapper",children:[Object(b.jsx)("p",{className:"numbers",children:Object(b.jsx)(j.a,{end:this.state.data.confirmed,duration:3,separator:","})}),Object(b.jsx)("p",{className:"lable",children:"Total Confirmed"})]}),Object(b.jsxs)("div",{className:"stat-wrapper",children:[Object(b.jsx)("p",{className:"numbers",children:Object(b.jsx)(j.a,{end:this.state.data.recovered,duration:3,separator:","})}),Object(b.jsx)("p",{className:"lable",children:"Total Recovered"})]}),Object(b.jsxs)("div",{className:"stat-wrapper",children:[Object(b.jsx)("p",{className:"numbers",children:Object(b.jsx)(j.a,{end:this.state.data.deaths,duration:3,separator:","})}),Object(b.jsx)("p",{className:"lable",children:"Total Deaths"})]})]}),Object(b.jsxs)("div",{className:"date",children:["Last Updated: ",p.a.parseZone(this.state.data.lastUpdate).format("dddd, MMMM Do YYYY, h:mm A")]})]})]})}}]),a}(c.a.Component),m=a(12),O=a(8),f=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"country-wrapper",children:[Object(b.jsx)("div",{className:"flag",children:Object(b.jsx)(m.a,{countryCode:this.props.countryCode,svg:!0,style:{fontSize:"2.5em",lineHeight:"2em"},"aria-label":"United States"})}),Object(b.jsx)("div",{className:"name",children:Object(b.jsx)("p",{children:this.props.countryName})}),Object(b.jsx)("div",{className:"confirmed",children:Object(b.jsx)(O.a,{value:this.props.confirmed,displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"})}),Object(b.jsx)("div",{className:"recovered",children:Object(b.jsx)(O.a,{value:this.props.recovered,displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"})}),Object(b.jsx)("div",{className:"deaths",children:Object(b.jsx)(O.a,{value:this.props.deaths,displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"})})]})}}]),a}(c.a.Component);function x(e,t,a){if("L-H"===a){for(var s=0;s<e.length;s++)for(var c=0;c<e.length-1;c++)if(e[c][t]>e[c+1][t]){var r=[e[c+1],e[c]];e[c]=r[0],e[c+1]=r[1]}}else if("H-L"===a){for(var n=0;n<e.length;n++)for(var i=0;i<e.length-1;i++)if(e[i][t]<e[i+1][t]){var o=[e[i+1],e[i]];e[i]=o[0],e[i+1]=o[1]}}else console.error("Wrong parameter in sort function");return e}var y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={fullList:[],displayList:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://covid19-api.com/country/all",{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({fullList:t,displayList:t})})).catch(console.log)}},{key:"handleSearch",value:function(e){var t=e.target.value;this.setState((function(e){return{displayList:e.fullList.filter((function(e){return-1!==e.country.search(new RegExp(t,"i"))}))}}))}},{key:"handleSort",value:function(e){console.log("option selected",e.target.value),this.setState((function(e){return{displayList:e.fullList}})),console.log("After set state");var t=[];switch(e.target.value){case"default":t=this.state.fullList;break;case"C-HL":t=x(this.state.displayList,"confirmed","H-L");break;case"C-LH":t=x(this.state.displayList,"confirmed","L-H");break;case"R-HL":t=x(this.state.displayList,"recovered","H-L");break;case"R-LH":t=x(this.state.displayList,"recovered","L-H");break;case"D-HL":t=x(this.state.displayList,"deaths","H-L");break;case"D-LH":t=x(this.state.displayList,"deaths","L-H")}this.setState({displayList:t})}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"country-stats",children:[Object(b.jsx)("div",{className:"info-container",children:Object(b.jsxs)("div",{className:"search-wrapper",children:[Object(b.jsx)("input",{type:"text",placeholder:"Search by Country name",onChange:this.handleSearch.bind(this)}),Object(b.jsx)("div",{className:"select",children:Object(b.jsxs)("select",{name:"sort",id:"",onChange:this.handleSort.bind(this),children:[Object(b.jsx)("option",{value:"default",children:"Sort"}),Object(b.jsx)("option",{value:"C-HL",children:"Confirmed: Highest to Lowest"}),Object(b.jsx)("option",{value:"C-LH",children:"Confirmed: Lowest to Highest"}),Object(b.jsx)("option",{value:"R-HL",children:"Recovered: Highest to Lowest"}),Object(b.jsx)("option",{value:"R-LH",children:"Recovered: Lowest to Highest"}),Object(b.jsx)("option",{value:"D-HL",children:"Deaths: Highest to Lowest"}),Object(b.jsx)("option",{value:"D-LH",children:"Deaths: Lowest to Highest"})]})})]})}),Object(b.jsxs)("div",{className:"list-container",children:[Object(b.jsxs)("div",{className:"table-header country-wrapper",children:[Object(b.jsx)("div",{className:"flag"}),Object(b.jsx)("div",{className:"name",children:"Country"}),Object(b.jsx)("div",{className:"confirmed",children:"Confirmed"}),Object(b.jsx)("div",{className:"recovered",children:"Recovered"}),Object(b.jsx)("div",{className:"deaths",children:"Deaths"})]}),this.state.displayList.map((function(e,t){return Object(b.jsx)(f,{countryName:e.country,confirmed:e.confirmed,recovered:e.recovered,deaths:e.deaths,countryCode:e.code},t)}))]})]})}}]),a}(c.a.Component),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(y,{})]})}}]),a}(c.a.Component);n.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.67bfd47c.chunk.js.map